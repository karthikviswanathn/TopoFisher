# GRF with Cubical Complex and MOPED Compression
# Non-trainable pipeline for baseline Fisher information analysis

experiment:
  name: grf_cubical_moped
  output_dir: experiments/grf/cubical_moped  # Results saved here
  description: "Baseline GRF analysis with cubical persistence and MOPED compression"

# Analysis parameters (Fisher information analysis settings)
analysis:
  theta_fid: [1.0, 2.0]        # Fiducial parameters [A, B] for P(k) = A * k^(-B)
  delta_theta: [0.1, 0.2]      # Step sizes for finite differences
  n_s: 10000                   # Samples for covariance estimation
  n_d: 10000                   # Samples for derivative estimation
  seed_cov: 42                 # Seed for fiducial samples
  seed_ders: [43, 44]          # Seeds for derivative samples (one per parameter)

# Simulator configuration
simulator:
  type: grf
  params:
    N: 16                     # Grid size (32x32 for 2D)
    dim: 2                    # Spatial dimension
    # device: auto-detected (cuda if available, else cpu)

# Filtration configuration
filtration:
  type: cubical
  trainable: false            # Not learnable
  params:
    homology_dimensions: [0, 1]  # Compute H0 (components) and H1 (loops)

vectorization:
  type: combined              # Combine multiple vectorizations
  trainable: false
  params:
    configs:                  # List of sub-vectorizations
      - type: topk
      - type: topk

# Compression configuration
compression:
  type: moped                # MOPED optimal compression
  trainable: false            # MOPED doesn't require training
  params:
    train_frac: 0.5           # Fraction for internal train/test split
    clean_data: true          # Remove zero-variance features
    reg: 1e-6                 # Regularization for covariance inversion

# No training section needed since no components are trainable